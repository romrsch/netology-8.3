## Домашнее задание к занятию "08.03 Использование Yandex Cloud"


### Подготовка к выполнению

1. Создайте свой собственный (или используйте старый) публичный репозиторий на github с произвольным именем.
2. Скачайте `playbook` из репозитория с домашним заданием и перенесите его в свой репозиторий.

### Основная часть

1. Допишите `playbook`: нужно сделать ещё один `play`, который устанавливает и настраивает `kibana`.
2. При создании `tasks` рекомендую использовать модули: `get_url, template, yum, apt`.
3. `Tasks` должны: скачать нужной версии дистрибутив, выполнить распаковку в выбранную директорию, сгенерировать конфигурацию с параметрами.
4. Приготовьте свой собственный `inventory` файл `prod.yml`.
5. Запустите `ansible-lint site.yml` и исправьте ошибки, если они есть.
6. Попробуйте запустить `playbook` на этом окружении с флагом `--check`.
7. Запустите `playbook` на `prod.yml` окружении с флагом `--diff`. Убедитесь, что изменения на системе произведены.
8. Повторно запустите `playbook` с флагом `--diff` и убедитесь, что `playbook` идемпотентен.

9. Проделайте шаги с 1 до 8 для создания ещё одного `play`, который устанавливает и настраивает `filebeat`.
10. Подготовьте `README.md` файл по своему `playbook`. В нём должно быть описано: что делает `playbook`, какие у него есть параметры и теги.
11. Готовый `playbook` выложите в свой репозиторий, в ответ предоставьте ссылку на него.



***Ответ:***

Создал в "Yandex Cloud" виртуальные машины

![alt](https://i.ibb.co/Q6BfySG/Screenshot-3.jpg)

Доступ до созданных машин "Centos -7"

![alt](https://i.ibb.co/nrFZwWf/Screenshot-4.jpg)

Дописал `site.yml` для установки `kibana` такой же версии, что и `elasticsearch` - 7.14.0

![alt](https://i.ibb.co/DCGB5QV/Screenshot-8.jpg)

> Запустите ansible-lint site.yml и исправьте ошибки, если они есть
> 

![alt](https://i.ibb.co/nbsHLVN/Screenshot-9.jpg)
 
 Добавил: `mode: 0644`, проверка прощла успешно:
 
 ![alt](https://i.ibb.co/yN8WsRS/Screenshot-10.jpg)
 
 


--
